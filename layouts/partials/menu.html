{{- /*
Override menu to hide Tags and render site-defined items.
*/ -}}

{{- $page := .page }}
{{- $menuID := .menuID }}

{{- with index site.Menus $menuID }}
  <nav id="menu-bar" class="block mt-3 close">
    <ul class="flex items-center flex flex-nowrap whitespace-nowrap overflow-x-auto space-x-4">
      {{- range . }}
        {{- if ne .PageRef "/tags" }}
          {{- $attrs := dict "href" .URL }}
          {{- $attrs = merge $attrs (dict "class" "rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200") }}
          {{- if $page.IsMenuCurrent .Menu . }}
            {{- $attrs = merge $attrs (dict "class" (printf "%s %s" $attrs.class "border-zinc-400")) }}
            {{- $attrs = merge $attrs (dict "aria-current" "page") }}
          {{- else if $page.HasMenuCurrent .Menu . }}
            {{- $attrs = merge $attrs (dict "class" "ancestor") }}
            {{- $attrs = merge $attrs (dict "aria-current" "true") }}
          {{- end }}
          <li class="my-2">
            <a
              {{- range $k, $v := $attrs }}
                {{- with $v }}
                  {{- printf " %s=%q" $k $v | safeHTMLAttr }}
                {{- end }}
              {{- end -}}
            >{{ or (T .Identifier) .Name | safeHTML }}</a>
          </li>
        {{- end }}
      {{- end }}
    </ul>
  </nav>
{{- end }}
